// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Typo from "../../Typo.res.mjs";
import * as React from "react";
import * as Colors from "../../Colors.res.mjs";
import VideoJs from "video.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Css from "@emotion/css";
import * as JsxRuntime from "react/jsx-runtime";

import 'video.js/dist/video-js.css'
;

var wrapper = Css.css({
      height: "calc(100vh)",
      width: "100%",
      borderRadius: "4px"
    });

var player = Css.css("\n    color:  " + Colors.primaryWhite + ";\n\n.vjs-button {\n    width: 34px;\n    height: 42px;\n    align-items: center;\npadding: 0 32px;\n    }\n\n.vjs-button > .vjs-icon-placeholder:before {\n    font-size: 2.3em;\n    }\n\n.vjs-time-control {\n position: absolute !important;\n  right: 0 !important;\n  top: -25px !important;\n    }\n\n    .vjs-menu {\n    width: 256px !important;\n    border: none !important;\n    bottom: -12px;\n    left: -180px;\n    border-radius: 4px;\n    border: 1px solid transparent;\n    }\n\n    .vjs-menu .vjs-menu-content {\n    background-color: " + Colors.greyGrey_750 + " !important;\n    }\n.vjs-menu .vjs-menu-content .vjs-menu-item {\ndisplay: flex !important;\npadding: 15px 20px !important;\ngap: 10px  !important;\n\n    }\n.vjs-menu-item.vjs-selected {\n    background-color: " + Colors.greyGrey_750 + " !important;\ncolor: #FFF !important;\n    }\n.vjs-menu .vjs-menu-content .vjs-menu-item.vjs-selected span {\ncolor: #FFF !important;\n    }\n.vjs-menu .vjs-menu-content .vjs-menu-item:hover {\n    background-color: " + Colors.greyGrey_750 + " !important;\n    }\n\n    .vjs-menu .vjs-menu-content .vjs-menu-item:hover span {\ncolor: #FFF !important;\n    }\n.vjs-menu .vjs-menu-content {\njustify-content: flex-start !important;\nfont-family: \"Netflix Sans\" !important ;\n    }\n.vjs-menu li {\n    justify-content: flex-start !important;\n    }\n    .vjs-menu .vjs-menu-content .vjs-menu-item span {\n    text-align: left !important;\ncolor: var(--Grey-Grey-100, #B3B3B3) !important;\nfont-family: \"Netflix Sans\" !important ;\nfont-size: 14px !important ;\nfont-style: normal !important ;\nfont-weight: 400 !important;\nline-height: 16px !important;\n    }\n\n.vjs-fullscreen-control  {\n    }\n .vjs-audio-button {\n    }\n.vjs-subs-caps-button  {\n    }\n    .vjs-play-control, .vjs-volume-panel, .vjs-remaining-time {\n    }\n\n    .vjs-volume-panel  {\n    margin-right: auto !important;\n    }\n    .vjs-volume-control {\n    padding-top: 6px !important;\n    }\n    .vjs-control-bar {\n      background-color: " + Colors.primaryBlack + " !important;\n      background-color: transparent !important;\n      height: 92px !important;\n    padding: 16px 20px !important;\n    }\n\n    .vjs-progress-control {\n      height: 6px !important;\n      position: absolute !important;\n      top: 0;\n      left: 0;\n      right: 0;\n      width: calc(100% - 92px) !important;\n    }\n.vjs-progress-control .vjs-progress-holder {\n    height: 6px;\n    }\n    .vjs-mouse-display {\n    width: 16px;\n    height: 16px;\n    flex-shrink: 0;\n    border-radius: 8px;\n    background-color: " + Colors.secondaryRed_300 + ";\n    }\n    .vjs-slider {\n    background-color: " + Colors.greyGrey_200 + " !important;\n    }\n    .vjs-play-progress {\n      background-color: " + Colors.secondaryRed_300 + " !important;\n    }\n    .vjs-play-progress:before {\n    font-size: 1.2em;\n      color: " + Colors.secondaryRed_300 + " !important;\n    }\n    .vjs-load-progress, .vjs-load-progress div {\n      background-color: " + Colors.greyGrey_25 + " !important;\n    }\n\n    ");

var Style = {
  wrapper: wrapper,
  player: player
};

function Player(props) {
  var options = props.options;
  var url = props.url;
  var videoRef = React.useRef(null);
  var playerRef = React.useRef(null);
  React.useEffect((function () {
          var video = playerRef.current;
          if (video === null || video === undefined) {
            video === null;
          } else {
            var autoplay = options.autoplay;
            if (autoplay !== undefined) {
              video.autoplay(autoplay);
            }
            video.src(url);
            return ;
          }
          var ref = videoRef.current;
          if (ref === null || ref === undefined) {
            return ;
          }
          var videoElement = document.createElement("video-js");
          var $$class = " video-js vjs-big-play-centered vjs-fill " + player + " " + Typo.Regular.headline2Force;
          videoElement.className = $$class;
          ref.appendChild(videoElement);
          playerRef.current = videoElement;
          var video$1 = VideoJs(videoElement, options);
          playerRef.current = video$1;
          var autoplay$1 = options.autoplay;
          if (autoplay$1 !== undefined) {
            video$1.autoplay(autoplay$1);
          }
          video$1.ready((function () {
                  return Caml_option.nullable_to_opt(video$1.src(url));
                }), true);
        }), [videoRef]);
  React.useEffect((function () {
          return (function () {
                    var video = playerRef.current;
                    if (video === null || video === undefined || video.isDisposed()) {
                      return ;
                    } else {
                      video.dispose();
                      playerRef.current = null;
                      return ;
                    }
                  });
        }), [playerRef]);
  return JsxRuntime.jsx("div", {
              children: JsxRuntime.jsx("div", {
                    ref: Caml_option.some(videoRef),
                    className: " video-js vjs-fill " + player + " " + Typo.Regular.headline2Force
                  }),
              className: wrapper
            });
}

var make = Player;

export {
  Style ,
  make ,
}
/*  Not a pure module */
